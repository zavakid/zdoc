
<!DOCTYPE html>

<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8" />

  <!-- Set the viewport width to device width for mobile -->
  <meta name="viewport" content="width=device-width" />
  <title>模式学习笔记-体系结构模式-2</title>
  
  

  <link rel="alternate" type="application/rss+xml" title="说者无意 &raquo; Feed" href="/atom.xml" />
  <link rel="stylesheet" href="/assets/themes/foundation/stylesheets/foundation.min.css">
  <link rel="stylesheet" href="/assets/themes/foundation/stylesheets/app.css">
  <link rel="stylesheet" href="/assets/themes/foundation/hl/styles/tomorrow-night-bright.css">
  <script src="/assets/themes/foundation/javascripts/jquery.min.js"></script>
  <script src="/assets/themes/foundation/javascripts/foundation.min.js"></script>
  <script src="/assets/themes/foundation/hl/highlight.pack.js"></script>
  <script src="/assets/themes/foundation/javascripts/app.js"></script>
</head>

<body>
  <!-- Nav Bar -->
<div class="row">
  <div class="twelve columns">
    <nav class="top-bar">
      <ul>
        <!-- Title Area -->
        <li class="name">
        <h2>
          <a href="/">
            说者无意
          </a>
        </h2>
        </li>
      </ul>
      <section>
      <!-- Left Nav Section -->
      <ul class="left">
        <li class="divider"></li>
        
        
        


  
    
      
    
  
    
      
      	
      	<li><a href="/archive.html">存档</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">分类</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">标签</a></li>
      	
      
    
  




        <li class="divider hide-for-small"></li>
      </ul>
      </section>
    </nav>
  </div>
</div>
<!-- End Nav -->


  <!-- Main Page Content and Sidebar -->
  <div class="row">
    <!-- Main Blog Content -->
<div class="eight columns content" role="content">
  
<h1>模式学习笔记-体系结构模式-2</h1>
<article>
<p>体系结构模式定义了软件的基础结构。比如 MVC，比如分布式代理模式。 此类模式并非只能使用一种，可以组合起来使用。这取决于项目所面临的实际情况。 比如你在开发一个项目，需求特点是：1.有用户界面；2.有灵活的异构系统。 这时你可能会选择 MVC 和 基于分布式代理 这样的体系结构组合来定下你的模式基调。</p>

<h3 id='id17'>一般的体系结构模式有：</h3>

<ul>
<li>层 Layer</li>

<li>管道/过滤器 Pipes and Filters</li>

<li>黑板 Blackboard</li>

<li>代理者 Broker</li>

<li>MVC</li>

<li>表示-抽象-控制 PAC</li>

<li>微核 Microkernel</li>

<li>映像 Reflection</li>
</ul>

<h3 id='id18'>可以对这些模式进行分类：</h3>
<ul>
<li>从混沌到结构（层，管道/过滤器，黑板）</li>
<li>分布式系统（代理者）</li>
<li>交互性系统（MVC，表示-抽象-控制）</li>
<li>适应性系统（微核，映像）</li>
</ul>
<h3 id='id19'>从混沌到结构</h3>

<p>一开始接受需求的时候，就是一篇混沌的时候，因为这时候系统还没有被设计，也没有被整理。我们需要一个思路将整个系统划分为多个组成部分。</p>

<p>分层是使用比较多的一种模式，将系统分解成有层次概念的部分。很多我们经常接触的架构，都已经分层了。比如TCP、计算机中的存储体系层次。</p>

<p>管道/过滤器则侧重数据流之间的定义，尽管层之间也需要数据流。但管道/过滤器则相对灵活，他们可以互相组合，调整顺序。比如，unix的管道模型。</p>

<p>黑板模式适用于一些为止领域中的系统，（<a href='http://en.wikipedia.org/wiki/Blackboard_system'>参考wiki</a>）,比如人工智能等领域。有兴趣的读者可以研究下。</p>

<h3 id='id20'>分布式系统</h3>

<p>在分布式系统中，应用程序开发人员往往有几个需求：</p>
<ol>
<li>简单，进程间的通信和方法调用，应该就像在本地通信和调用一样。</li>
<li>透明，不需要知道具体节点的位置/ip，这样就为节点的迁移/切换提供了可能性。</li>
<li>安全，不会因为一个节点挂了，就导致我不能访问，应该有相应的节点来继续提供服务。</li>
</ol>
<p>代理者模式（broker）是解决者方面问题的模式。 代理者模式主要有几个概念：客户端，客户端代理，服务端，服务端代理，桥接。 请求的流程是： <ol>
<li>客户端向客户端代理调用方法</li>
<li>客户端代理将请求发向服务端代理者</li>
<li>服务端代理者向服务器发出方法调用</li>
<li>服务器返回结构，服务端代理者返回给客户端代理者，客户端代理者返回客户端。</li>
<li>如果此时服务器没有服务，那么服务端代理者可以转发请求，请求其他的服务区代理者。这就是桥接。</li>
</ol></p>

<h3 id='id21'>交互式系统</h3>

<p>这里我注重看了下 MVC 的优缺点，对与PAC，有兴趣的可以查看<a href='http://en.wikipedia.org/wiki/Presentation-abstraction-control'>pac的wiki</a>。</p>

<p>MVC 的优点： <ol>
<li>同一模型可以有多个视图</li>
<li>通过观察者模式，可以让模型的变更传递到所有关注此模型的视图中。</li>
<li>MVC三组件可以任意替换实现</li>
</ol></p>

<p>MVC缺点： <ol>
<li>复杂性增加，相比于简单的逻辑界面揉在一起写，复杂度有所增加</li>
<li>模型更新需要更新相应视图，造成更新风暴 (不过在基于web编程中，很少人会这么做，特别用户打开多tab的时候)</li>
<li>视图和控制器严重依赖模型，一旦模型结构有所变更，视图和控制器也需要跟着变更</li>
</ol></p>

<h3 id='id22'>适应性系统</h3>

<p>操作系统就是非常典型的微核模式。微核模型非茶适用于需要满足不同平台和个性化定制的需求。 一般微核都提供了可插拔的环境，像Linux的内核，可以任意加载模块。</p>

<p>而映像模式也是为了解决以上的问题，不同的是其使用了另一种方式，即提供了运行时的元信息。也就是所谓的映像。</p>

<p>模式这东西，如果不用，没有吃过亏，相信对其好处很难体会得到。 先对这上面的模式有个印象，待到后续有场景时，起码也能想到能有相应的模式去解决。</p>
</article>

<hr/>
<dl class="tabs">
  <dd><a href="#postMeta">文章信息</a></dd>
  <dd class="active"><a href="#related">相关文章</a></dd>
  <dd class="hide-for-small"><a href="#otherRead">别人也读过</a></dd>
</dl>
<ul class="tabs-content">

  <li id="postMetaTab">
    <dl class="sub-nav">
      
      <dt>分类:</dt>
      
      <dd><a href="/categories.html#模式-ref">模式</a></dd>
      
      
    
      
      <dt>标签:</dt>
        
        <dd><a href="/tags.html#模式-ref">模式</a></dd>
        
        <dd><a href="/tags.html#架构-ref">架构</a></dd>
        
        
    </dl>
  </li>

  <li class="active" id="relatedTab">
  
    <ul class="circle">
    
    <li><a href="/2013/01/09/pattern_intro">模式学习笔记之概述-1</a></li>
    
    <li><a href="/2011/07/30/unix-io-model">关于IO的同步,异步,阻塞,非阻塞</a></li>
    
    <li><a href="/2012/07/31/resolved_ubuntu_hosts">解决 ubuntu 的 /etc/hosts 重启就被还原</a></li>
    
    <li><a href="/2011/10/16/why_virtual_memory">内存学习——为什么需要虚拟内存</a></li>
    
    <li><a href="/2012/11/09/liquid">Liquid学习</a></li>
    
    <li><a href="/2012/10/12/aqs_2">Java并发同步器AQS(AbstractQueuedSynchronizer)学习笔记(2)</a></li>
    
    <li><a href="/2011/11/17/tokyo-tyrant-vs-redis">Tokyo Tyrant 与 Redis 的一些简单比较</a></li>
    
    <li><a href="/2012/05/05/using_terminator">terminator的高效使用</a></li>
    
    <li><a href="/2012/11/29/ruby_regex">Ruby正则表达式学习笔记</a></li>
    
    <li><a href="/2012/10/09/terminator_in_ubuntu_bugfix">terminator在ubuntu下有僵尸进程的解决</a></li>
    
    </ul>
  
  </li>

  <li id="otherReadTab">
  
    <ul class="circle">
    
    <li><a href="/2012/07/31/resolved_ubuntu_hosts">解决 ubuntu 的 /etc/hosts 重启就被还原</a></li>
    
    <li><a href="/2012/10/12/aqs_2">Java并发同步器AQS(AbstractQueuedSynchronizer)学习笔记(2)</a></li>
    
    <li><a href="/2011/11/17/tokyo-tyrant-vs-redis">Tokyo Tyrant 与 Redis 的一些简单比较</a></li>
    
    <li><a href="/2011/07/30/unix-io-model">关于IO的同步,异步,阻塞,非阻塞</a></li>
    
    <li><a href="/2012/05/05/using_terminator">terminator的高效使用</a></li>
    
    <li><a href="/2011/10/16/why_virtual_memory">内存学习——为什么需要虚拟内存</a></li>
    
    <li><a href="/2012/10/09/terminator_in_ubuntu_bugfix">terminator在ubuntu下有僵尸进程的解决</a></li>
    
    <li><a href="/2012/10/12/aqs_1">Java并发同步器AQS(AbstractQueuedSynchronizer)学习笔记(1)</a></li>
    
    <li><a href="/2012/11/09/liquid">Liquid学习</a></li>
    
    <li><a href="/2012/11/29/ruby_regex">Ruby正则表达式学习笔记</a></li>
    
    </ul>
  
  
  </li>
</ul>

<hr/>



  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'zavakid'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>






</div>
<!-- End Main Content -->

<!-- Sidebar -->
<aside class="four columns">
<div class="panel">
  <h5>关于Zava</h5>
  <p>程序员, 杭州, Linux, Java, Ruby, Bash, 爱折腾，喜欢开源, 踢业余足球, 听点收音机</p>
  <p>Follow me with:
  <a href="https://github.com/zavakid">github</a>
  <br>more about me:
  <a href="http://about.me/zavakid"> read more</a>
  </p>
</div>
</aside>
<!-- End Sidebar -->

  </div>
  <!-- End Main Content and Sidebar -->
  <!-- Footer -->
  <footer class="row">
<div class="twelve columns">
  <hr />
  <div class="row">
    <div class="eight columns">
      <p>Site content © 2012 - 2013 <a href="http://www.zavakid.com" target="_blank">Zava. Powered by jekyll and jekyllbootstra, customed by Zava</a> <br/>
      host on <a href="http://sae.sina.com.cn" target="_blank"><img src="http://static.sae.sina.com.cn/image/poweredby/120X33_transparent.gif" title="Powered by Sina App Engine"></a></p>
    </div>
    <div class="four columns">
      <ul class="inline-list right">
        
        
        


  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/sitemap.txt">网站地图</a></li>
      	
      
    
  
    
      
    
  




      </ul>
    </div>
  </div>
</div>
</footer>




  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-10645202-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>





  <!-- End Footer -->
</body>
</html>

